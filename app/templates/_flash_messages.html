{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="mb-4">
        {% for category, message in messages %}
            <div class="px-4 py-3 rounded-md relative animate__animated animate__fadeInDown 
                {% if category == 'danger' %} bg-red-900/80 border border-red-700 text-red-200
                {% elif category == 'success' %} bg-green-900/80 border border-green-700 text-green-200
                {% elif category == 'warning' %} bg-yellow-900/80 border border-yellow-700 text-yellow-200
                {% else %} bg-blue-900/80 border border-blue-700 text-blue-200 {% endif %}"
                role="alert">
                <span class="block sm:inline">{{ message }}</span>
            </div>
        {% endfor %}
        </div>
    {% endif %}
{% endwith %}
